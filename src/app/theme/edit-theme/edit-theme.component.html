<main>
    <div class="createPage">
      <h2>Edit Car</h2>
      <form #form="ngForm" (ngSubmit)="editPost(form)">
        <p>
          <select
            class="select"
            name="brand"
            placeholder="Brand"
            #inputBrand="ngModel"
            ngModel
            required
            [(ngModel)]="currentCar.brand"
          > 
            <option value="" selected disabled>Select Brand</option>
            <ng-container *ngFor="let brand of brands">
              <option value={{brand}}>{{brand}}</option>
            </ng-container>
          </select>
          <ng-container *ngIf="inputBrand.touched">
            <p class="error" *ngIf="inputBrand?.errors?.['required']">
              Brand is required.
            </p>
          </ng-container>
        </p>
        <p>
          <input
            type="text"
            name="model"
            placeholder="Model"
            #inputModel="ngModel"
            ngModel
            required
            [(ngModel)]="currentCar.model"
          />
          <ng-container *ngIf="inputModel.touched">
            <p class="error" *ngIf="inputModel?.errors?.['required']"> Model is required.</p>
          </ng-container>
        </p>

        <p>
          <select
            class="select"
            name="engine"
            placeholder="Engine"
            #inputEngine="ngModel"
            ngModel
            required
            [(ngModel)]="currentCar.engine"
          > 
            <option value="" selected disabled>Select Engine</option>
              <option value="Petrol">Petrol</option>
              <option value="Diesel">Diesel</option>
              <option value="Gas">Gas</option>
              <option value="Hybrid">Hybrid</option>
              <option value="Electric">Electric</option>
          </select>
          <ng-container *ngIf="inputEngine.touched">
            <p class="error" *ngIf="inputEngine?.errors?.['required']">
              Engine type is required!
            </p>
          </ng-container>
        </p>

        <p>
          <select
            class="select"
            name="transmission"
            placeholder="Transmission"
            #inputTransmission="ngModel"
            ngModel
            required
            [(ngModel)]="currentCar.transmission"

          > 
            <option value="" selected disabled>Select Transmission</option>
              <option value="Manual">Manual</option> 
              <option value="Automatic">Automatic</option> 
              <option value="Semi-Automatic">Semi-Automatic</option> 
          </select>
          <ng-container *ngIf="inputTransmission.touched">
            <p class="error" *ngIf="inputTransmission?.errors?.['required']">
              Transmission type is required.
            </p>
          </ng-container>
        </p>
        
        <p>
          <select
            class="select"
            name="year"
            placeholder="Year"
            #inputYear="ngModel"
            ngModel
            required
            [(ngModel)]="currentCar.year"
          > 
            <option value="" selected disabled>Select Year</option>
            <ng-container *ngFor="let year of years">
              <option value={{year}}>{{year}}</option>
            </ng-container>
          </select>
          <ng-container *ngIf="inputYear.touched">
            <p class="error" *ngIf="inputYear?.errors?.['required']">
              Year is required.
            </p>
          </ng-container>
        </p>

        <p>
          <textarea
            type="text"
            name="description"
            placeholder="Description"
            ngModel
            #inputDescription="ngModel"
            minlength="10"
            required
            pattern="^(?!\s).*"
            [(ngModel)]="currentCar.description"

          ></textarea>
          <ng-container *ngIf="inputDescription.touched">
            <p class="error" *ngIf="inputDescription?.errors?.['required']">
              Description is required.
            </p>
            <p class="error" *ngIf="inputDescription?.errors?.['minlength']">
              Description should not be less than 10!
            </p>
            <p class="error" *ngIf="inputDescription?.errors?.['pattern']">
              Invalid description!
            </p>
          </ng-container>
        </p>

        <p>
          <input
            type="text"
            name="location"
            placeholder="Location"
            ngModel
            #inputLocation="ngModel"
            required
            pattern="^(?!\s).*"
            [(ngModel)]="currentCar.location"

          />
          <ng-container *ngIf="inputLocation.touched">
            <p class="error" *ngIf="inputLocation?.errors?.['required']">
              Location is required.
            </p>
            <p class="error" *ngIf="inputLocation?.errors?.['pattern']">
              Location cannot contains spaces.
            </p>
          </ng-container>
        </p>
        <p>
          <input
            type="number"
            name="price"
            placeholder="Price"
            ngModel
            #inputPrice="ngModel"
            required
            [(ngModel)]="currentCar.price"
          />
          <ng-container *ngIf="inputPrice.touched">
            <p class="error" *ngIf="inputPrice?.errors?.['required']">
              Price is required.
            </p>
          </ng-container>
        </p>

        <p>
          <input
            type="text"
            name="img"
            placeholder="Link to image"
            #inputImg="ngModel"
            ngModel
            required
            [(ngModel)]="currentCar.img"
          />
          <ng-container *ngIf="inputImg.touched">
            <p class="error" *ngIf="inputImg?.errors?.['required']"> Image is required.</p>
          </ng-container>
        </p>
        <!-- Add Photo Button -->
        <button class="edit-btn">Edit Car</button>
      </form>
    </div>
  </main>
  